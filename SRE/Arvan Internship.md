## First Month
### Linux
![systemd](https://dwaves.de/wp-content/uploads/2017/05/systemd-overview-utilities-daemons-targets-core-libraries-kernel.png)
* resources
	* [ ] [LPIC-1](https://developer.ibm.com/technologies/linux/tutorials/l-lpic1-map/)
	* [ ] [LPIC-2](https://www.theurbanpenguin.com/lpi-training-from-theurbanpenguin/lpic-2-advanced-level-certification/)
	* [ ] [Udemy: Complete Linux training course to get your dream job](https://www.udemy.com/course/complete-linux-training-course-to-get-your-dream-it-job/)
	* [ ] [downloadly.ir: complete Linux training course](https://downloadly.ir/elearning/video-tutorials/complete-linux-training-course/)
	* [ ] [git.ir: LinuxAcademy RedHat certified engineer prep course](https://git.ir/linuxacademy-linux-academy-red-hat-certified-engineer-prep-course/)
	* [ ] [**advanced**: linux-insides](https://0xax.gitbooks.io/linux-insides/content/)
* [ ] [SSH](https://www.redhat.com/sysadmin/passwordless-ssh)
* [ ] [locking down sshd](https://www.redhat.com/sysadmin/locking-down-sshd)
* [x] LVM
* [x] systemd
* [ ] cgroups
* [ ] namespaces
* [x] journal
* [x] filesystem
* [ ] sockets

### Security and Hardening
* [ ] [git.ir: PackPublishing: Linux security and hardening the practical security guide](https://git.ir/packtpub-linux-security-and-hardening-the-practical-security-guide-video/)
* [x] iptables
	* [x] [erravindrapwadia.medium.com](https://erravindrapawadia.medium.com/iptables-tutorial-beginners-to-advanced-guide-to-linux-firewall-839e10501759)
	* [x] [digitalcoean](https://www.digitalocean.com/community/tutorials/a-deep-dive-into-iptables-and-netfilter-architecture)
	* [x] [geeksforgeeks](https://www.geeksforgeeks.org/iptables-command-in-linux-with-examples/)

### Networks
* resources
	* [ ] [Network+ Topics](https://www.nwexam.com/comptia/comptia-n10-006-certification-exam-syllabus)
	* [ ] [Udemy: CompTIA network certification n10-007 the total course](https://www.udemy.com/course/comptia-network-cert-n10-007-the-total-course/)
	* [ ] [CCNA Topics](https://learningnetwork.cisco.com/s/ccna-exam-topics) 
	* [ ] [guru99.com: CCNA Introduction](https://www.guru99.com/introduction-ccna.html)
	* [ ] [study-ccna](https://study-ccna.com/)
	* [ ] [Udemy: Complete networking fundamentals course CCNA start](https://www.udemy.com/course/complete-networking-fundamentals-course-ccna-start/)
	* [ ] [downloadly.ir: the complete networking fundamentals course](https://downloadly.ir/elearning/video-tutorials/the-complete-networking-fundamentals-course-1/)
	* [ ] [Udemy: CCNA on-demand bootcamp](https://www.udemy.com/course/ccna-on-demand-video-boot-camp/?ranMID=39197&ranEAID=bt30QTxEyjA&ranSiteID=bt30QTxEyjA-bTIfehvYKY_Fc9BN.Bdgxw&LSNPUBID=bt30QTxEyjA&utm_source=aff-campaign&utm_medium=udemyads)
* [x] The OSI Model
* [x] IP Addressing and Subnetting
* [x] TCP and UDP
* [x] [DNS](https://www.redhat.com/sysadmin/dns-domain-name-servers)
* [x] NAT
* [ ] Firewalls / security appliances
* [x] DHCP
* [x] Arp
* [ ] BGP
* [ ] [IBM: LPIC-1 Tutorial](https://developer.ibm.com/technologies/linux/tutorials/l-lpic1-109-3/)
* [ ] [RedHat: beginner's guide to troubleshooting linux](https://www.redhat.com/sysadmin/beginners-guide-network-troubleshooting-linux)
* [ ] [RedHat: ping - traceroute - netstat](https://www.redhat.com/sysadmin/ping-traceroute-netstat)
* [ ] [danielmiessler: tcpdump](https://danielmiessler.com/study/tcpdump/)
* [ ] [RedHat: ifconfig vs ip](https://www.redhat.com/sysadmin/ifconfig-vs-ip)
* [ ] [RedHat: use curl api](https://www.redhat.com/sysadmin/use-curl-api)
* [ ] nslookup and dig
* [ ] telnet
* [ ] [RedHat: nmap use cases](https://www.redhat.com/sysadmin/use-cases-nmap)
* [ ] SSL: generate ssl with let's encrypt

## Second Month
### Git
* [ ] [coursera: Google IT Automation Specialization: Git and Github Introduction](https://www.coursera.org/learn/introduction-git-github?specialization=google-it-automation)
* [ ] git flow
* git commands
	* [ ] pull
	* [ ] push
	* [ ] clone
	* [ ] stash
	* [ ] [aparat: rebase](https://www.aparat.com/v/O0qFV/)
	* [ ] squash

### Ansible
* [ ] ansible playbooks
* [ ] ad-hoe
* [x] [docs.ansible: getting started](https://docs.ansible.com/ansible/latest/user_guide/index.html#getting-started)
* [ ] [download.ir: LiveLessons: Ansible Fundamentals](https://download.ir/%D8%AF%D8%A7%D9%86%D9%84%D9%88%D8%AF-%D9%81%DB%8C%D9%84%D9%85-%D8%A2%D9%85%D9%88%D8%B2%D8%B4%DB%8C-ansible-fundamentals/)
* [ ] Ansible for DevOps - 2020 - Jeff Geerling (book)

### Docker
* [ ] [AhmadRafiee.github: learn docker with me](https://github.com/AhmadRafiee/Docker_training_with_DockerMe)
* [ ] [docs.docker: overview](https://docs.docker.com/get-started/overview/)
* [ ] [docks.docker: docker file](https://docs.docker.com/engine/reference/builder/)
* [ ] container
* [ ] network
* [ ] volume
* [ ] image
* [ ] [khanacademy(article): container lifecycle and basic commands](https://k21academy.com/docker-kubernetes/docker-container-lifecycle-management/)
	* [ ] create a container
	* [ ] run the container
	* [ ] start "
	* [ ] stop "
	* [ ] restart "
	* [ ] kill "
	* [ ] destroy "
* [ ] docker commands
	* [ ] pull
	* [ ] run
	* [ ] exec
	* [ ] start
	* [ ] stop
	* [ ] push
	* [ ] rm
	* [ ] rmi
	* [ ] build
	* [ ] ps
* [ ] [docs.docker: docker run reference](https://docs.docker.com/engine/reference/run/)
* [ ] [docks.docker: docker registry](https://docs.docker.com/registry/)
* [ ] docker hub
* [ ] docker swarm (just know what it is)
* [ ] [docs.docker: docker compose](https://docs.docker.com/compose/compose-file/compose-file-v3/)

### Database(s)
* [ ] fundamentals
	* [ ] index
	* [ ] crud
	* [ ] normalize
	* [ ] slow query
* [ ] what is high availability
* [ ] high available solutions for databases
* [ ] [ouorum](https://medium.com/@sunny_81705/quorum-in-distributed-systems-37cbe17aae88) and [rafi](https://medium.com/@alexander.jw.brooks/inside-raft-an-algorithm-for-consensus-in-asynchronous-distributed-systems-984f353c3feb) algorithm
* [ ] what is replication
* [ ] mariadb
	* [ ] replication
	* [ ] galera
* [ ] maxscale
* [ ] mongodb replication
* [ ] redis sentinel
* [ ] redis cluster

### CI/CD

## Third Month
### Kubernetes
* [ ] concepts
	* [ ] [docs.kube: components](https://kubernetes.io/docs/concepts/overview/components/)
	* [ ] [docs.kube: workloads](https://kubernetes.io/docs/concepts/workloads/)
	* [ ] [docs.kube: services-networking: service](https://kubernetes.io/docs/concepts/services-networking/service/)
	* [ ] [docs.kube: service-networking: ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/)
	* [ ] [docs.kube: storage: volumes](https://kubernetes.io/docs/concepts/storage/volumes/)
	* [ ] [docs.kube: storage: persistent volumes](https://kubernetes.io/docs/concepts/storage/persistent-volumes/)
	* [ ] [sookocheff.com: understanding kubernetes networking model](https://sookocheff.com/post/kubernetes/understanding-kubernetes-networking-model/)
	* [ ] [docs.kube: kubernetes basics](https://kubernetes.io/docs/tutorials/kubernetes-basics/)
	* [ ] lifecycle
	* [ ] node selector
	* [ ] node affinity
	* [ ] port forwarding
	* [ ] stateful and stateless application - statefulset
* [ ] [docs.kube: kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/)
* [ ] setup
	* [ ] [docs.kube: install kubeadm](https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/)
	* [ ] [docs.kube: create cluster kubeadm](https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/)
* [ ] [kube.github: ingress-nginx: how it works](https://kubernetes.github.io/ingress-nginx/how-it-works/)

### Helm
* [ ] [docs.helm: quickstart](https://helm.sh/docs/intro/quickstart/)

### Storage
* [ ] ceph
* [ ] cephfs
* [ ] shared object storage
* [ ] pv
* [ ] pvc

### CNI
* [ ] calico
* [ ] flannel
* [ ] weave

### Operatores
### Monitoring
* [ ] prometheus
* [ ] grafana
* [ ] alertmanger

# Project
## Phase 1
### Part 1
* create 3 servers (os=debian 10) and config them:
	* [x] change ssh port
		* `ssh` is client-side, and `sshd` is server-side
		* `man sshd`, `man sshd_config`
		* system-wide config file: `/etc/ssh/sshd_config`
		* `sudo apt install net-tools vim`
		* `cp -rv /etc/ssh/sshd_config /home/debianu/sshd_config.backup`
		* `sudo vim /etc/ssh/sshd_config`
			* uncomment `#Port 22`
			* change to `Port 2200`
		* `sudo systemctl restart sshd`
		* check port usage: `netstat -tulpn | grep sshd | less`
	* [x] create a sudo user
		* `sudo useradd dummy1 -c "Dummy 1" -m -G sudo -s "/bin/bash"`
		* `sudo passwd dummy1`
		* check with `cat /etc/passwd | grep dummy1 | less` and `su - dummy1`
	* [x] disable login with password
		 * edit `/etc/ssh/sshd_config`
			 * `PasswordAuthentication no`
		 * `systemctl restart sshd`
	* [x] disable ssh root login
		* edit `/etc/ssh/sshd_config`
			* `PermitRootLogin no`
		* `systemctl restart sshd`
	* [ ] update servers
	* [x] create a private network between servers
		* volatile:
			* `ip address add 10.0.0.1/24 dev enp0s8`
			* `ip link set dev enp0s8 up`
			* test with `ping 10.0.0.[12]`
		* persistent -> edit `/etc/network/interfaces`
			* `auto enp0s8 #network is up'd at bootup`
			* `iface enp0s8 inet static`
			* `    address 10.0.0.1/24`
	* [x] setting timezone
		* `timedatectl set-timezone Asia/Tehran`
		* check with `timedatectl`
	* [x] sync servers time with ntp
		* `man systemd-timesyncd` which implements SNTP
	* [x] close all ports except ssh port with ufw
		* take a look at open ports `nmap localhost -vv`
		* `sudo apt install ufw`
		* `ufw allow in 2200`
	* [x] disable swap
		* uncomment the swap partition in `/etc/fstab`
		* check the currently active swap partitions with `less /proc/swaps`
		* deactivate swaps with `swapoff [partition file(s)]` like `swapoff /dev/sda5`
		* check it is off with `less /proc/swaps`
* [x] add 2 arvan disk to your abrak and join them to one logical volume (lvm) on server 1 and 2
	* [x] create paritions on server 1 and 2
		* `fdisk /dev/sda`
			* `n` for new partition -> turned out to be `/dev/sda3`
		* `mkfs -t ext4 /dev/sda3`
		* `mkdir -p /media/debianu/logical[12]`
		* `mount -t auto /dev/sda3 /media/debianu/logical[12]`
	* [x] `umount /dev/sda3`
	* [x] create physical volume: `pvcreate /dev/sda3`
	* [x] create volume group: `vgcreate vg10 /dev/sda3 -s 128K`
	* [x] create logical volume: `lvcreate -L 2G vg10`
* install [elasticsearch](https://technology.amis.nl/continuous-delivery/containers/using-elasticsearch-fluentd-and-kibana-for-log-aggregation/) cluster with 2 nodes on server 1 and 2 (use above disk as data store for your elasticsearch)
	* download `elasticsearch.deb` and install with `apt install ./elastic.deb > elasticsearch.install.log`
		* the log is important because these stupid people print out the password and other important info during installation.
		* `https://elastic.co/downloads/elasticsearch`
			* platform: deb x86_64
	* allow firewall traffic
		* for each server. there are two network adapters.
		* `ufw allow from 10.0.0.1 to any port 9200`
		* `ufw allow from 192.168.45.85 to any port 9200`
		* `ufw allow from 192.168.45.167 to any port 9200`
	* `systemctl start elasticsearch.service`
	* test: `curl -k -X GET 'http://localhost:9200?pretty' -u elastic:<passwd>`
		* `-k` is makes curl skip the security verification (ssl) step. Because it does not yet have a ssl certificate.
		* `http(s)` is because however many times I tried, elasticsearch replied empty to http.
		* `-u elastic:<passwd>` is because, without it elasticsearch would raise an exception.
			* `passwd` refers to the one master password provided when installed.
	* 

* install kibana
	* generate ssl with letsencrypt and serve kibana domain on https
* install nginx on server 1 and 2
	* change nginx log format to json
* install fluentd on server 1 and 2
	* read nginx log and write them to elasticsearch
	* create a lifecycle policy to delete index after 10 days
* install bind and wireguard server on server 3
	* config bind or use arvan cdn to serve a domain
	* disable ufw and configure iptables to close all port except for wireguard ip and cdn ip on server 1 and 2

### Part 2
* write a script to update iptables if cdn ips list ip changed
* create a crontab and add a job to run your script once a day

### Part 3
* install a MiniIO server on server 3
* suppose we store all backups at this miniio, backup categorized into directories. write a script to delete backups older than 1 month selectively.
	* for example if we had 5 directories as:
		* `mariadb-backup`, `mongo-backup`, `postgres-backup`, `redis-backup`, `dont-delete-backup`
		* we want to execute some directories so the content of those doesn't delete by the script
